\documentclass{book}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{tikz-cd}
\usepackage{amsthm}
\usepackage{csquotes}
\usepackage{braket}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\tikzcdset{row sep/normal=3.0em}
\tikzcdset{column sep/normal=3.6em}

\newcommand{\arr}[3]{#1 : #2 \rightarrow #3}
\newcommand\id{\mathit{id}}
\newcommand\Hom{\text{Hom}}

\title{Category Theory Notes}
\author{}

\begin{document}

\maketitle

\tableofcontents
\newpage

\chapter{Category theory}

\section{What is category theory}

``As a first approximation category theory is the abstract algebra of
functions.'' --- Steve Awodey

\subsection{Definition of a category}

A category $\mathbf{C}$ consists of
\begin{itemize}
\item Objects. $A, B, C, \dots$
  \item arrows $f, g, h, \dots$ each function have a domain $dom(f)$ and
    codomain $cod(f)$
\end{itemize}

A category must satisfy the following laws. For each composable pair of arrows
$f : A \to B$ and $g : B \to C$.
\begin{itemize}
  \item Unit
  \item Associativity.
    The following diagram commutes.
    \[
      \begin{tikzcd}
        A \ar[rr, bend right, "f \circ g"'] \ar[r, "f"] & \ar[rr, bend left, "g \circ h"] B \ar[r, "g"] & C \ar[r, "h"] & D
      \end{tikzcd}
    \]
\end{itemize}

In general there can be many, even infinitely many, arrows between two objects.
There can also be none at all.

\subsection{Examples of categories}

\begin{itemize}
  \item \textbf{Sets}. The objects are sets and the arrows are functions.
  \item \textbf{1}. The category with one object and one arrow. It looks like this.
    \[
      \begin{tikzcd}
        \bullet \arrow[loop right]
      \end{tikzcd}
    \]
  \item A poset $(P, \leq)$ (partially ordered set) is a set $P$ with a binary
    relation $\leq$ that satisfies reflexivity, antisymmetry, and transivity.
    Any poset forms a category where the elements of the category are the
    objects of $P$ and where for two objects $a$ and $b$ there is an arrow from
    $a$ to $b$ iff. $a \leq b$:
    \[
      p \rightarrow q \iff p \leq q
    \]
    A category based on a poset is called a \emph{poset category}.

    Note that \textbf{Poset} is a category with ``few'' arrows. Between two
    objects $p$ and $q$ there is at most one arrow.

    % TODO: Explain why not all $f : A \to B$ are id in Sets.

  \item \textbf{Poset} (or \textbf{Pos}) The category where the objects are all
    posets and the arrows are monotone functions.

  \item A monoid is a triple $(S, \oplus, e)$. Any monoid forms a category. The
    category contains a single object. Each element in the monoid is an arrow in
    the category and composition of arrows is the composition from the
    monoid. The identity arrow is the identity element in the monoid. This
    construction satisfies the law of a category directly from the laws of a
    monoid.

    Note that a category based on a monoid is a category with ``few'' objects.
    There is only a single objects. Furthermore a category with one object is
    always a monoid. Thus, \emph{a monoid is just a category with one object}.

  \item \textbf{Monoid} (or \textbf{Mon}) The category where the objects are all
    monoid and the arrows are monoid homomorphisms.

  \item \textbf{Rel}. The objects are sets and the arrows are relations.
\end{itemize}

\section{Commutative diagrams}

In category theory equations can be expressed using commutative diagrams. When
we draw a diagram like the following.
\[
  \begin{tikzcd}
    A \arrow[r, "f"] \arrow[d, "h"']
    & B \arrow[d, "g"] \\
    C \arrow[r, "p"] & D
  \end{tikzcd}
\]
It is supposed to communicate that $f \circ g = h \circ p$. In such cases we
say the ``the diagram commutes'' to denote the properties that the diagram
indicates that the arrows have.

As another example, consider this diagram:
\[
  \begin{tikzcd}
    A \arrow[r, "f"] \arrow[dr, "h"] & B \arrow[d, "g"] \\
                                     & C
  \end{tikzcd}
\]
We say that the triangle \emph{commutes} if $f \circ g = h$.

In general it is the case that for a commutative diagram all paths with the same
origin and end are equal.

\section{Constructing categories}

\subsection{Opposite category}

For a category $C$, its opposite category, denoted $C^{op}$, is the category
obtained by formally reversing the direction of all its arrows. Each object $A$
in $\mathbf{C}$ is an object in $\mathbf{C}^{op}$ and earch arrow $f : A \to B$ in
$\mathbf{C}$ is an arrow $f : B \to A$ in $\mathbf{C}^{op}$. It is important to
understand that this is a formal operation that can be applied to any category
$C$.

One way that one should \emph{note} think about $C^{opposite}$ is as something
that reverses each arrow.

\subsection{Slice category}

A slice category $\mathbf{C}/X$ has as objects all arrows in \textbf{C} with $X$
as their codomain.

Arrows in $\mathbf{C}/X$.

\[
  \begin{tikzcd}
    A \ar[rr, "f"] \ar[dr, "g"] & & B \ar[dl, "h"] \\
    & X
  \end{tikzcd}
\]

\section{Universal Mapping Properties}

A universal mapping property is used to define things in a categorical way.

Universal mapping properties determine things uniquely up to isomorphism.

Saying that there exists a \emph{unique} something is the same as saying that
there exists a \emph{single} something which is the same as saying that there is
exactly one something.

\section{Functor}

\begin{definition}[Functor]
  A functor $F \to \mathbf{C} \to \mathbf{D}$ is a map between categories. It
  consists of two parts:
  \begin{itemize}
  \item A mapping between objects:
    $F_{obj} : obj(\mathbf{C}) \to (obj\mathbf{D})$.
  \item A mapping between arrows:
    $F_{arr} : arr(\mathbf{C}) \to (arr\mathbf{D})$.
  \end{itemize}
  However, we usually just write $F$ and treat it as an overloaded function that
  can be applied to both arrows and objects. A functor must satisfy three laws:
  \begin{itemize}
  \item Preserves domain and codomain. $F(f : A \to B) = F(f) : F(A) \to F(B)$
  \item Preserve identities. $F(\id_A) = \id_{F(A)}$
  \item Preserve composition: $F(g \circ f) = F(g) \circ F(f)$
  \end{itemize}
\end{definition}

\section{Isomorphisms}

\begin{definition}[Isomorphism]
  An isomorphism is an arrow with an inverse.
\end{definition}

Examples.
\begin{itemize}
  \item In a monoid category the isomorphisms are the elements that have an inverse.
  \item in a group every element has an inverse. Therefore, in a group every
    arrow is and isomorphism.
\end{itemize}

\begin{proposition}
  If $f : f \to B$ and $g : B \to C$ are isomorphisms then their composition
  $f \circ g$ is also an isomorphism and the inverse is
  \[
    (f \circ g)^{-1} = g^{-1} \circ f^{-1}
  \]
  This means that isomorphisms compose into isomorphisms.
\end{proposition}
\begin{proof}
  First we show that $g^{-1} \circ f^{-1}$ is a right inverse.
  \[ (f \circ g) \circ (g^{-1} \circ f^{-1}) = f \circ (g \circ g^{-1}) \circ
    f^{-1} = f \circ f^{-1} = id_A \]

  Then we show that $g^{-1} \circ f^{-1}$ is a left inverse.
  \[ (g^{-1} \circ f^{-1}) \circ (f \circ g) = g^{-1} \circ (f^{-1} \circ f)
    \circ g = g^{-1} \circ g = id_B\]
\end{proof}

\section{Monomorphism and epimorphism}

\subsection{Monomorphism}

\begin{definition}{Monomorphism}
  In a category $\bf{C}$, an arrow $f : A \to B$ is a \emph{monomorphism} if for
  any $g, h : C \rightarrow A$ it is the case that $fg = fh \implies g = h$.
  \[
  \begin{tikzcd}
    C \ar[r, shift left, "g"] \ar[r, shift right, "h"'] & A \arrow[r, "f"] & B
  \end{tikzcd}
  \]
\end{definition}

A monomorphism is also called a \emph{mono} and it is said to be \emph{monic}.

Mnemonic: A monomorphism is the categorical equivalent to an \emph{injective}
function, that is a one-to-one function, and \emph{mono} means \emph{one}.

\begin{proposition}
  A function $f : A \to B$ between sets is monic in $\bf{Sets}$ if and only if it
  is injective.
\end{proposition}
\begin{proof}
  ($\Rightarrow$) Assume $f$ is a monomorphism in $\bf{Sets}$. We must show that
  $f$ is an injective function. Let $a, a' \in A$ where $a \neq a'$. We are done
  if we can show that $f(a) \neq f(a')$.

  ($\Leftarrow$) Assume $f$ is an injective function. We must show that $f$ is a
  monomorphism.
\end{proof}

\begin{definition}{Epimorphism}
  In a category $\bf{C}$, an arrow $f : A \to B$ is an \emph{epimorphism} if for
  any $i, j : B \to D$ it is the case that $if = jf \implies i = j$.

  \begin{tikzcd}
    A \ar[r, "f"] & B \ar[r, shift left, "i"] \ar[r, shift right, "j"'] & D
  \end{tikzcd}

  An epimorphism is said to be \emph{epic}.
\end{definition}

Why does a surjective funtion satisfy $if = jf \implies i = j$. Intuitively
since $f$ reaches its entire domain then any differences in $i$ and $j$ whould
be exposed in the composition. If there was some elements in $B$ that where
never reached by $f$ then the functions $i$ and $j$ could differ for those
elements such that $if = jf$ without $i = j$ being true.

\begin{proposition}
  A function $f : A \to B$ between sets is an epimorphism in $\bf{Sets}$ if and
  only if it is surjective.
\end{proposition}
\begin{proof}
  ($\Rightarrow$) Assume $f$ is an epimorphism. We must show that $f$ is a surjective
  function. Let $b$ be an element in $B$. Let $d, d' \in D$ where $d \neq d'$ and
  define $i : B \to D$ as the function that maps every element in $B$ to $d$
  except for $b$ which it maps to $d'$.
  \[
    i(x) = \begin{cases}
      d' & x = b \\
      d & \text{otherwise}
    \end{cases}
  \]
  Let $j : B \to D$ be a constant function that sends every element to $d$.
  \[
    j(x) = d
  \]
  Since $i \neq j$ we have $if \neq jf$. Thus there exists some $a \in A$ where
  $i(f(a)) \neq j(f(a))$. But $i$ and $j$ are equal for all arguments except
  $b$. Hence $f(a) = b$. Since $b$ was arbitrary this shows that $f$ is
  surjective.

  ($\Leftarrow$) Assume that $f$ is a surjective function. We must show that $f$ is an
  epimorphism. Let $i, j : B \to D$ be arbitrary functions where $i \neq j$. Then
  there exists some $b \in B$ where $i(b) \neq j(b)$. Since $f$ is surjective there
  must exist an $a \in A$ where $b = f(a)$. Putting this together we have:

  \begin{align*}
    i(b) &\neq j(b) && \text{since $i \neq j$} \\
    i(f(a)) &\neq j(f(a)) && \text{from how we defined $b$}
  \end{align*}

  Therefore $if \neq jf$.
\end{proof}

\begin{proposition}
  In a poset category all arrows are both monic and epic.
\end{proposition}
\begin{proof}
  Let $f : A \to B$ be an arrow in a poset category. Per the definition of a
  poset category there is always only a single arrow between two objects.
  Therefore if we have $g, h : C \to A$ such that $fg = fh$ we can conclude
  that $g = h$ since they are both arrows between $C$ and $A$. Therefore $f$ is
  monic. Similarly, if $\arr{i, j}{B}{D}$ such that $if = jf$ then $i = j$ and
  $f$ is a epic.
\end{proof}

\begin{proposition}
  In a poset category all arrows are both monic and epic.
\end{proposition}
\begin{proof}
  Let $\arr{f}{A}{B}$ be an arrow in a poset category. Per the definition of a
  poset category there is always only a single arrow between two objects.
  Therefore if we have $\arr{g, h}{C}{A}$ such that $fg = fh$ we can conclude
  that $g = h$ since they are both arrows between $C$ and $A$. Therefore $f$ is
  monic. Similarly, if $\arr{i, j}{B}{D}$ such that $if = jf$ then $i = j$ and
  $f$ is a epic.
\end{proof}

\begin{proposition}
  Every isomorphism is also a monomorphism and epimorphism.
\end{proposition}
\begin{proof}
  (Monomorphism) Let $m$ be an isomorphism with inverse $m^{-1}$, then $mx = my$
  implies that $x = m^{-1}mx = m^{-1}my = y$ giving us that $m$ is a
  monomorphism.

  (Epimorphism) Let $m$ be an isomorphism with inverse $m^{-1}$, then $xm = ym$
  implies that $x = xm^{-1}m = ym^{-1}m = y$ giving us that $m$ is an
  epimorphism.
\end{proof}

Consider a situration where we have arrows $s : A \to B$ and $r : B \to A$ such
that the following diagram commutes.
\[
  \begin{tikzcd}
  A \ar[r, "s"] \ar[dr, "\id_A"'] & B \ar[d, "r"] \\
                                  & A
  \end{tikzcd}
\]
We have $rs = \id_{A}$ (but not necessarily $sr = \id_{B}$). We call $r$ both a
\emph{left-inverse} for $s$ and a \emph{retraction of $s$}. A morphism that is a
retraction of some morphism is called a \emph{retraction}. Symmetrically $s$ is
called both a \emph{right-inverse} of $r$ and a \emph{section} of $r$. A
morphism that is a section of some morphism is called a \emph{section}.

\begin{proposition}
  Every \emph{retraction} is epic and every \emph{section} is monic.
\end{proposition}
\begin{proof}
  Assume $r$ is a retraction. Then $r$ has a left inverse $s$. Then
  \[
    fr = gr \implies frs = grs \implies f = g
  \]
  Thus $r$ is epic.

  The argument for sections is similar.
\end{proof}

\begin{definition}[Split mono and split epic]
  An arrow $f : A \to B$ is a \emph{split mono} if it has a \emph{left}
  inverse. That is, an arrow $\arr{g}{C}{A}$ such that
  \[ gf = \id_A \]

  An arrow $\arr{f}{A}{B}$ is a \emph{split epi} if it has a \emph{right}
  inverse. That is, an arrow $\arr{g}{B}{C}$ such that
  \[ fg = \id_B \]
\end{definition}

When a mono is a split mono we say that the \emph{mono splits}.

\subsection{A summary of monos, epis, and split monos and epis}

\begin{itemize}
\item A mono cancels on the \emph{left}: $\forall g, h : fg = fh \implies g = h$.
\item A split mono is an arrow with a \emph{left} inverse: $\exists g : gf = \id_A$.
\item An epi cancels on the \emph{right} $\forall i, j : if = jf \implies i = j$.
\item A split epi is an arrow with a \emph{right} inverse: $\exists g : fg = \id_B$.
\end{itemize}

\begin{proposition}[Inverses are unique]
  If an arrow $\arr{f}{A}{B}$ has two inverses $\arr{g, g'}{B}{A}$ then $g =
  g'$.
\end{proposition}
\begin{proof}
  Consider the commutative diagram below.
  \[
    \begin{tikzcd}
      B \arrow[r, "id_B"] \arrow[d, "g"'] & B \arrow[d, "g'"] \\
      A \arrow[r, "id_A"'] \arrow[ru, "f"] & A
    \end{tikzcd}
  \]
  From the diagram we can derive the following equality.
  \[
    g' = g' \id_B = g' (f g) = (g' f) g = \id_A g = g
  \]
\end{proof}

\section{Initial and terminal objects}

\begin{definition}[Initial]
  An object $0$ is \emph{initial} if for any object $C$ there is a unique
  morphism $\arr{F}{0}{C}$.
  \[
    \begin{tikzcd}
      0 \arrow[r, dashrightarrow, "f"] & C
    \end{tikzcd}
  \]
  In other words an initial object is an object that has a single arrow to all
  other objects. Visually it looks like this.
  \[
    \begin{tikzcd}
      & 0 \arrow[ld] \arrow[d] \arrow[rd] \\
      A & B & C
    \end{tikzcd}
  \]
  Note that this is a universal mapping property. $\forall C \exists! f$.
\end{definition}

\begin{definition}[Terminal]
  An object $1$ is \emph{terminal} if for any object $C$ there is a unique
  morphism $F : C \to 1$.
  \[
    \begin{tikzcd}
      C \arrow[r, dashrightarrow, "f"] & 1
    \end{tikzcd}
  \]
  In other words a terminal object is an object that every other object has a
  single arrow towards. Visually it looks like this.
  \[
    \begin{tikzcd}
      A \arrow[rd] & B \arrow[d] & C \arrow[ld] \\
      & 1
    \end{tikzcd}
  \]
  Note that this is an universal mapping property. $\forall C \exists! f$.
\end{definition}

Terminal objects are also sometimes called \emph{final}.

\subsection{Poset}

In a poset an initial object is one that is smaller than or equal to any other
object. A terminal object is one that is greater than or equal to any other
object.

In a bounded lattice the bottom element $\bot$ is the only initial object and the
top element $\bot$ is the only terminal object. As such we may write
\begin{align*}
  0 = \bot, \quad 1 = \top
\end{align*}
This example provides a rationale and some intuition for the names $0$ and $1$.

\begin{proposition}
  Initial/terminal objects are unique up to a unique isomorphism. That is,
  \begin{itemize}
  \item If $0$ and $0'$ are both initial objects in a category $\mathbf{C}$
    then $0 \cong 0'$ and the isomorphism is unique.
  \item If $1$ and $1'$ are both terminal objects in a category $\mathbf{C}$
    then $1 \cong 1'$ and the isomorphism is unique.
  \end{itemize}
\end{proposition}
\begin{proof}
  Let $0$ and $0'$ be two initial objects. Since $0$ is an initial object there
  exists a unique arrow $f : 0 \to 0'$. Since any object has the identity arrow,
  $f$ must be the identity arrow $f = \id_{0}$. As both $0$ and $0'$ are initial
  objects there exist a unique arrow $f : 0 \to 0'$ and a unique arrow
  $g : 0' \to 0$. The composition $f \circ g$ is an arrow from $0'$ to $0$. But we
  know that the only arrow from $0'$ to $0$ is $\id_{0'}$. Similarly,
  $g \circ f$ is an arrow from $0$ to $0'$ and it must be equal to $\id_{0}$. Put
  together this means that $g$ is an inverse to $f$. Hence $f$ is an
  isomorphism.
  \[
    \begin{tikzcd}
      0 \ar[r, "f"] \ar[dr, "\id_{0}"'] & 0' \ar[d, "g"] \ar[dr, "\id_{0'}"] \\
      & 0 \ar[r, "f"] & 0'
    \end{tikzcd}
  \]
  \[
    \begin{tikzcd}
      0 \ar[r, bend left, "f"] \ar[loop left, "\id_{0}"] & 0' \ar[l, bend left, "g"] \ar[loop right, "\id_{0'}"]
    \end{tikzcd}
  \]
\end{proof}

\section{Products}

\subsection{Binary product}

Since a category is a thing that can basically only do composition one might
think that there is not much one can define based on this. However, we will see
that it is actually possible to create many definitions based only on this. Now
we will see how to define a notion of a \emph{product} or a pair. Intuitively a
pair is some data-structure that can hold two elements. But that is not very
precise. It turns out that by using category theory we can make this much more
precise.

\begin{definition}[Product]
  A product of two objects $A$ and $B$ consists of an object $P$ and two
  projection arrows $\arr{p_1}{P}{A}$ and $\arr{p_2}{P}{B}$.
  \[
    \begin{tikzcd}
      A & P \arrow[l, "p_1"'] \arrow[r, "p_2"] & B
    \end{tikzcd}
  \]
  The above must satisfy the universal mapping property that
  $\forall x, f_1, f_2 \exists! u$ such that the following diagram commutes.
  \[
    \begin{tikzcd}
      & X \arrow[ld, "x_1"'] \arrow[d, dashrightarrow, "u"] \arrow[rd, "x_1"] \\
      A & P \arrow[l, "p_1"] \arrow[r, "p_2"'] & B
    \end{tikzcd}
  \]
\end{definition}

Let us try an unpack that definition. Note that the definition doesn't say
anything about what a product \emph{is}. It only describes a property that a
product should have in order for it to be a product. But, why does that
definition make sense?

Consider a programming library that implements a product or pair data-structure
in a programming language. It would have to expose a constructor for pairs
\texttt{makePair : A -> B -> Pair A B} and two functions for extracting values
again \texttt{fst : Pair A B -> A} and \texttt{snd : Pair A B -> B}. As a user
of such a library we would expect that creating a pair of two elements and
extracting them again gives us the exact same elements that we put in. In other
words we expect that for any $a$ it is the case that \texttt{fst (makePair a b)
  == a}. This is exactly what the existence part of the definition says. If $P$
is a product and we have an object $X$ from which we can extract two values
$x_1$ and $x_2$ (i.e. $X$ contains $x_1$ and $x_2$) then there must be a way to
construct a product based on $X$ such that when we later extract the two values
with $p_1$ and $p_2$ we get back the exact same value that we had in $X$. The
UMP ensures that the pair data-structure doesn't ``mess'' with the elements we
insert into it. The uniqueness part of the definition requires that there is
only one possible way for $P$ to store the two values that we have in $X$. This
means that it must not be possible for $P$ to support two different
\texttt{makePair} functions.

In the general case it is not possible to turn two objects into a pair. That is,
if $A$ and $B$ is two objects $A \times B$ may not exist in the category. If a
category has a product for every pair of objects then the category is said to
\emph{have binary products} and is said to be \emph{a category with binary
  products}.

\subsubsection{Notation}

If two objects $A$ and $B$ have a product, we write
\[
  \begin{tikzcd}
    A & A \times B \arrow[l, "p_1"'] \arrow[r, "p_2"] & B
  \end{tikzcd}
\]
Now for any $X, x_{1}, x_{2}$ the notation $\langle x_1, x_2 \rangle$ denotes the unique
arrow $u : X \to A \times B$ from the UMP. Beware! One might think that
$\langle x, y \rangle$ would mean an actual pair of elements similarly to how
$(x, y)$ denotes a pair. This is not the case. It is an arrow as shown in the
diagram below.

\[
  \begin{tikzcd}[row sep = 4.2em, column sep = 4.6em]
    & X \arrow[ld, "x_1"'] \arrow[d, dashrightarrow, "{\langle x_1, x_2 \rangle}" description] \arrow[rd, "x_1"] \\
    A & A \times B \arrow[l, "p_1"] \arrow[r, "p_2"'] & B
  \end{tikzcd}
\]

\subsection{Non-examples of products}

\begin{itemize}
\item Define a product of sets as follows:
  \[ A \times B = \{ (n, a, b) \mid n \in \{ 0, 1 \}, a \in A, b \in B \}\]
  With the two projection functions.
  \begin{align*}
    \pi_1(n, a, b) = \begin{cases} a & n = 0 \\ b & n = 1 \end{cases} &&
    \pi_2(n, a, b) = \begin{cases} b & n = 0 \\ a & n = 1 \end{cases}
  \end{align*}
  This is not a product since it does not satisfy the uniqueness constraint in
  the UMP that a product must satisfy.
\end{itemize}

\begin{lemma}
  Products are unique up to isomorphism. That is, if $A \times B$ and $A' \times
  B'$ are products in a category $\bf{C}$ then.
  $$
  A \times B \cong A' \times B'
  $$
\end{lemma}
\begin{proof}
  TODO
\end{proof}

The above theorem tells us that all products are the same except for unimportant
details.

\begin{lemma}
  In a category with binary products the binary product operation $A \times B$
  is associative up to isomorphism.
  \[
    (A \times B) \times C \cong A \times (B \times C)
  \]
\end{lemma}
\begin{proof}

\end{proof}

\section{Hom-sets}

\begin{definition}
  Given a locally small category $\bf{C}$ and objects $A$ and $B$ the set
  $\Hom(A, B)$ is all the arrows from $A$ to $B$.
  \begin{align*}
    \Hom_{\mathbf{C}}(A, B) &= \text{ all arrows from } A \text{ to } B \\
                          &= \set{ f \in \mathbf{C} \mid f : A \rightarrow B }
  \end{align*}
\end{definition}

Such a set of arrows is called a \emph{Hom-set}. Since $\Hom(A, B)$ is an
element in $\mathbf{Sets}$ this function gives us a way to turn any pair of
objects in any (locally small) category into an \emph{object in
  $\mathbf{Sets}$}.

Additionally, this we can define a function.
\begin{gather*}
  \Hom_{\mathbf{C}}(A, g) : \Hom(A, B) \to \Hom(A, B') \\
  f \mapsto g \circ f
\end{gather*}

Note that the notation is overloaded! $\Hom(A, B)$ is the set of all arrows from
$A$ to $B$. But $\Hom(A, g)$ is a function from arrows from $A$ to $B$
($\Hom(A, B)$) to arrows from $A$ to $B'$ ($\Hom(A, B')$).
\begin{itemize}
\item For an \emph{object} $B$ $\Hom(A, B)$ is an \emph{object} in $\mathbf{Sets}$.
\item For an \emph{arrow} $g$ $\Hom(A, g)$ is an \emph{arrow} in $\mathbf{Sets}$.
\end{itemize}
Note that the overloading above is the exact same overloading that we use with
functors. In other words we have exactly the ingredients for a functor.

\section{Duality}

\subsection{Isomorphism}

Recal that an isomorphism is an arrow $f : A \to B$ with an inverse
$f^{-1} : B \to A$. Pictorially it looks like this
\[
  \begin{tikzcd}
    A \ar[r, bend left, "f"] & B \ar[l, bend left, "f^{-1}"]
  \end{tikzcd}
\]
If we take the dual of the above by reversing both arrows we end up with
\[
  \begin{tikzcd}
    A \ar[r, bend right, "f^{-1}"'] & B \ar[l, bend right, "f"']
  \end{tikzcd}
\]
Which is still two inverse arrows going back and forth between $A$ and $B$. This
leads to the slogan: ``The dual of isomorphism is isomorphism''.

\section{Equalizers}

\begin{definition}
  Given two arrows $f, g : A \to B$. For an element $E$ an arrow $e : E \to A$ is an
  equalizer if
  \[
    f \circ e = g \circ e
  \]
  and if for any $z : Z \to A$ there exists a unique $u$ such that $e \circ u = z$.
  \[
    \begin{tikzcd}
      E \ar[r, "e"] & A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B \\
      Z \ar[u, dashrightarrow, "u"] \ar[ur, "z"]
    \end{tikzcd}
  \]
\end{definition}

And equalizer $e$ is like a proccess that we can apply to things before we put
them into $f$ and $g$. If we apply this process before $f$ and $g$ these two
processes do the exact same thing. So $e$ somehow removes all the input for
which $f$ and $g$ produces different results. As such it makes sense that $e$ is
called an equalizer since it equalizes $f$ and $g$.

The universal mapping property ensures that $e$ does \emph{as little as
  possible} to make $f$ and $g$ equal.
% To see why this is necessary consider two function $f, g : A \to B$ in
% \textbf{Sets}. For any element $a \in A$ the constant function that maps
% everything to $a$ would satisfy the criteria. FIXME.

\begin{proposition}
  Equalizers are always monomorphisms.
\end{proposition}
\begin{proof}
  Let $e$ be an equalizer. % FIXME.
\end{proof}

\begin{remark}
  A category \textbf{C} \emph{has equalizers} if for any two arrows
  $f, g : A \to B$ there exists an equalizer for the arrows.
\end{remark}

\section{Coequalizers}

\[
  \begin{tikzcd}
    A \ar[r, shift left, "f"] \ar[r, shift right, "g"'] & B \ar[r, "q"] \ar[rd, "z"] & Q \ar[d, dashrightarrow, "u"] \\
    & & Z
  \end{tikzcd}
\]

Note that the diagram above is equivalent to the dual diagram for equalizers
except it has also been flipped.

\section{Subobjects}

\begin{definition}[Subobject]
  If $X$ is an object in a category \textbf{C} then a \emph{subobject} of $X$ is
  a monomorphism $m : M \to X$.
\end{definition}

There is not anything new in this definition. A subobject and a monomorphism is
exactly the same thing. It is nothing but a different perspective, a new way of
looking at, the definition of a monomorphism.

Note that, perhaps confusingly, a subobject of $X$ is \emph{not} an object in
the same category as $X$.

$\text{Sub}_{\mathbf{C}}(X)$ denotes the subobjects of $X$ in \textbf{C}.

\section{Pullbacks}

Pullbacks is a generalization of both intersection and inverse
image. % FIXME: Why is this the case?

A pullback $A \times_{C} B$ can be though of as a pair of elements $(a, b)$ and
$f$ and $g$ can be though of as functions where $f(a) = g(b)$.

\section{Limits}




\subsection{Diagram}

Consider a functor $D : \textbf{J} \to \textbf{C}$. The functor maps object and
arrows in \textbf{D} to objects and arrows in \textbf{C}. In other words, for
every object $j$ in \textbf{J} the functor $D$ maps $j$ to an object in
\textbf{C}. Instead of thinking of this as a map we can also think of the object
in \textbf{J} as indexing the object in \textbf{C}. With this point of view we
may write $D_{j}$ to denote $D(j)$. Instead of thinking of $D$ as a functor we
can think of it as being objects and arrows in \textbf{C} indexed by objects and
arrows in \textbf{J}. When we adopt this point of view we call $D$ a
\emph{diagram} of type \textbf{J} in \textbf{C}. Formally a diagram is the same
thing as a functor. But the change in name reflects the change of perspective.

\subsection{Cone} A \emph{cone} to a diagram $D$ is an object $C$ and a family
of arrows in \textbf{C} where the arrows $c_i$, $c_j$ ... $c_k$ are from $C$ to
each object in the diagram $D$. Making a cone shape with the object $C$ as the
top where everything commutes. An example could be
\[
\begin{tikzcd}
  & C \arrow[dl, "c_i"'] \arrow[d, "c_j"] \arrow[dr, "c_k"]  \\
  D_i \arrow[r,"D_\alpha"] & D_j \arrow[r, "D_\beta"]  & D_k
\end{tikzcd}
\]
here $\alpha : i \to j$ and $\beta : j \to k$ are arrows in \textbf{J}. A cone
is sometimes
written as a pair $(C, c_j)$ where $C$ is the "top" and $c_j$ is the family of
morphisms from $C$ to the objects in diagram $D$.

\subsection{Morphism of Cones}
A morphism $\vartheta : (C, c_j) \to (C', c'_j)$ between cones
\[
\begin{tikzcd}
  & C \arrow[dl, "c_i"'] \arrow[d, "c_j"] \arrow[dr, "c_k"] \arrow[dd, "\vartheta", bend right] \\
  D_i \arrow[r,"D_\alpha"] & D_j \arrow[r, "D_\beta"]  & D_k \\
  & C' \arrow[ul, "c'_i"'] \arrow[u, "c'_j"'] \arrow[ur, "c'_k"]
\end{tikzcd}
\]
where $c_i = c'_i \circ \vartheta$ for all $i \in \textbf{J}$.

Now we have the category of cones \textbf{Cones}.

\subsection{Limits}

\begin{definition}[Limit]
\end{definition}



\chapter{Exercises}

\section{1}

\subsection{11}

\section{2}

\subsection{2.4}

Consider the commutative triangle,
\[
  \begin{tikzcd}
    A \arrow[r, "f"] \arrow[dr, "h"] & B \arrow[d, "g"] \\
                                     & B
  \end{tikzcd}
\]
In other words the situration where $h = gf$.
\begin{itemize}
  \item if $f$ and $g$ are isos then so is $h$. This is true because
    isomorphisms compose into isomorphisms.
  \item if $f$ and $g$ are monos then so is $h$.
    \begin{align*}
      h a &= h a' \\
      g f a &= g f a' \\
      f a &= f a' && \text{because $g$ is a mono} \\
      a &= a' && \text{because $f$ is a mono} \\
    \end{align*}
    Therefore $h$ is a mono.
  \item if $f$ and $g$ are epis then so is $h$.
    \begin{align*}
      a h &= a' h \\
      a g f &= a' g f \\
      a g &= a' g && \text{because $f$ is an epi} \\
      a &= a' && \text{because $g$ is an epi} \\
    \end{align*}
    Therefore $g$ is an epi.
b  \item if $h$ is monic then so is $f$. Assume $h$ is monic.
    \[
      f x = f x' \implies g f x = g f x' \implies h x = h x' \implies x = x'
    \]
    So $f$ is monic.
  \item if $h$ is monic then so is $g$. Assume $g$ is monic. \[ x g = x' g
    \implies x g f = x' g f \implies x h = x' h \implies x = x' \]
  \item $h$ can be monic without $g$ being monic. Consider the category
    $\bf{Sets}$. Let $\arr{h}{\{1\}}{\{3\}}$. Define $\arr{f}{\{1\}}{\{1,2\}}$
    as the function that maps $1$ to $2$. Definet $\arr{g}{\{1,2\}}{\{3\}}$ as
    the function that maps both $1$ and $2$ to $3$. Clearly $g$ is not
    surjective and thus not monic. But $h = g \circ f$ is surjective and thus
    monic. Is an injective function.
\end{itemize}

An arrow is not nececarilly an isomorphism even if it is monic and epic.

\subsection{2.5}

(a) $\implies$ (b): Assume $f$ is an isomorphism. We know that any isomorphism
is a mono. $f f^{-1} = \id_B$ so $f$ has a left inverse and is a split epi.

(b) -> (c): \[ f \id = f = (f f^{-1}) f = f (f^{-1} f)  \] Derfor per mono er
\[ f^{-1} f = \id \]

(b) $\implies$ (c): Assume $f$ is a mono and a split epi. There exists an $e$
such that $fe = \id$. To show that $f$ is an epi let $\arr{i, j}{B}{D}$ and
consider
\[
  if = jf \implies ife = jfe \implies i = j
\]
So $f$ is an epi. To show that $f$ is a split mono we must find a $g$ such that
$gf = id_A$.

(c) $\implies$ (d):

(d) $\implies$ (a): Assume $f$ is both a split mono and a split epi. We know
that there exists a $\arr{g}{B}{A}$ such that $gf = \id_A$ and a
$\arr{g'}{B}{A}$ such that $fg' = \id_B$. Putting this together we have.
\[
  g = g \id_B = g (f g') = (g f) g' = \id_A = g'
\]
Thus $gf = \id_A$ and $fg = \id_B$. This makes $g$ an inverse for $f$ which
makes $f$ and isomorphism.

\subsection{2.15}

Assume $A$ and $B$ have a product in $C$: $A \times B = (P, p_1, p_2)$. Clearly
this triple is an object in $\mathbf{C}$. Consider now any object $Q = (X, x_1,
x_2)$ in $\mathbf{C}$. Since $A \times B$ is a product we have, from the UMP for
products, that there is a unique morphism from $Q$ to $A \times B$.

Assume that $\mathbf{C}_{A, B}$ has a terminal object $(X, x_1, x_2)$. Observe
that an arrow $\arr{f}{Y, y_1, y_2}{X, x_1, x_2}$ is one that makes the
following diagram commute.

\[
  \begin{tikzcd}
    & Y \arrow[ld, "y_1"'] \arrow[d, dashrightarrow, "f"] \arrow[rd, "y_1"] \\
    A & X \arrow[l, "x_1"] \arrow[r, "x_2"'] & B
  \end{tikzcd}
\]

The fact that $(X, x_1, x_2)$ is a terminal objects mean that there exists a
unique $f$ that makes the diagram commute. But this is exactly the UMP for
products and implies that $(X, x_1, x_2)$ is a product for $A$ and $B$ in
$\mathbf{C}$.

\subsection{2.17}

\section{3}

\subsection{1}

In any category $\mathbf{C}$ the below
\[
  \begin{tikzcd}
    A \ar[r, "c_1"] & C & B \ar[l, "c_2"]
  \end{tikzcd}
\]
is a coproduct in $\mathbf{C}$ if and only
\[
  \begin{tikzcd}
    A & C \ar[l, "c_1"] \ar[r, "c_2"] & B
  \end{tikzcd}
\]
is a product in $\mathbf{C}^{op}$. We know that this is a product if and only if
the function
\begin{align*}
  \Hom(Z, C) & \to \Hom(Z, A) \times \Hom(Z, B) \\
  f & \mapsto ( c_1 \circ f, c_2 \circ f )
\end{align*}
is an isomorphism. The dual of this function is
\begin{align*}
  \Hom(C, Z) & \to \Hom(A, Z) \times \Hom(B, Z) \\
  f & \mapsto (f \circ c_1, f \circ c_2 \rangle
\end{align*}
And since duality preserves isomorphisms we have a coproduct if an only if the
map is an isomorphism.

\subsection{2}

\[
  \begin{tikzcd}
    "|M(A)|" \ar[r, "|f|"] & "|N|" \\
    A \ar[]
  \end{tikzcd}
\]

\subsection{3}

\subsection{4}

\subsection{6}

\subsection{10}

\subsection{11}

\subsection{12}

\subsection{13}

\subsection{14}

\section{5}

\section{1}
\section{2}
\section{3}
\section{4}
\section{6}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
